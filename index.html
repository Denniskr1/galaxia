<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para el amor de mi vida</title>
<style>
body{
margin:0;
overflow:hidden;
background:black;
font-family:Arial;
color:white;
}
canvas{display:block;}
.frase{
position:absolute;
color:white;
font-size:14px;
white-space:nowrap;
pointer-events:none;
text-shadow:0 0 10px white;
}
</style>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>

// ESCENA
const scene = new THREE.Scene();

// CÁMARA
const camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,5000);
camera.position.z = 800;

// RENDER
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

// GALAXIA REALISTA
const particles = 70000;
const geometry = new THREE.BufferGeometry();
const positions = new Float32Array(particles*3);
const colors = new Float32Array(particles*3);

const insideColor = new THREE.Color("#ff66ff");
const outsideColor = new THREE.Color("#2200ff");

for(let i=0;i<particles;i++){
const i3=i*3;
const radius=Math.random()*900;
const spinAngle=radius*0.4;
const branchAngle=(i%7)/7*Math.PI*2;

positions[i3]=Math.cos(branchAngle+spinAngle)*radius+(Math.random()-0.5)*40;
positions[i3+1]=(Math.random()-0.5)*50;
positions[i3+2]=Math.sin(branchAngle+spinAngle)*radius+(Math.random()-0.5)*40;

const mixedColor=insideColor.clone();
mixedColor.lerp(outsideColor,radius/900);

colors[i3]=mixedColor.r;
colors[i3+1]=mixedColor.g;
colors[i3+2]=mixedColor.b;
}

geometry.setAttribute('position',new THREE.BufferAttribute(positions,3));
geometry.setAttribute('color',new THREE.BufferAttribute(colors,3));

const material=new THREE.PointsMaterial({
size:2.5,
vertexColors:true,
blending:THREE.AdditiveBlending,
depthWrite:false
});

const galaxy=new THREE.Points(geometry,material);
scene.add(galaxy);


// FRASES HTML ORBITANDO
const frases = [];
const textos = [

"Contigo el universo tiene sentido",
"Eres mi estrella favorita",
"Mi infinito eres tú",
"Tu amor ilumina mi galaxia",
"Eres mi destino escrito en las estrellas",
"Mi corazón orbita alrededor del tuyo",
"Eres mi milagro cósmico",
"Mi mundo empieza en tus ojos",
"Eres mi constelación perfecta",
"Mi eternidad lleva tu nombre",

"Contigo todo brilla",
"Eres mi paz en el caos",
"Mi alma encontró hogar en ti",
"Eres mi magia diaria",
"Mi universo es tu sonrisa",
"Eres mi latido eterno",
"Mi vida comenzó contigo",
"Eres mi sueño cumplido",
"Mi destino es amarte",
"Eres mi razón infinita"

];

for(let i=0;i<textos.length;i++){
let div=document.createElement("div");
div.className="frase";
div.innerText=textos[i];
document.body.appendChild(div);

frases.push({
element:div,
angle:Math.random()*Math.PI*2,
radius:1200,
height:(Math.random()-0.5)*600
});
}


// ANIMACIÓN
function animate(){
requestAnimationFrame(animate);

galaxy.rotation.y+=0.0007;

frases.forEach(f=>{
f.angle+=0.0005;

let x=Math.cos(f.angle)*f.radius;
let z=Math.sin(f.angle)*f.radius;
let y=f.height;

let vector=new THREE.Vector3(x,y,z);
vector.project(camera);

let posX=(vector.x*0.5+0.5)*window.innerWidth;
let posY=(-vector.y*0.5+0.5)*window.innerHeight;

f.element.style.transform=`translate(-50%,-50%) translate(${posX}px,${posY}px)`;
});

renderer.render(scene,camera);
}

animate();

window.addEventListener('resize',()=>{
camera.aspect=window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth,window.innerHeight);
});

</script>
</body>
</html>
