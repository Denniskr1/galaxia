<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para el amor de mi vida</title>
<style>
body{
margin:0;
overflow:hidden;
background:black;
font-family:Arial;
}
canvas{display:block;}
.frase{
position:absolute;
color:white;
font-size:16px;
white-space:nowrap;
pointer-events:none;
text-shadow:0 0 15px #ffffff;
}
</style>
</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

<script>

// ESCENA
const scene = new THREE.Scene();

// CÁMARA
const camera = new THREE.PerspectiveCamera(
75,
window.innerWidth/window.innerHeight,
0.1,
5000
);
camera.position.set(0,400,900);

// RENDER
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

// CONTROLES LIBRES
const controls = new THREE.OrbitControls(camera,renderer.domElement);
controls.enableDamping = true;
controls.enableZoom = true;
controls.enablePan = true;
controls.minDistance = 200;
controls.maxDistance = 2000;
controls.maxPolarAngle = Math.PI; // permite ver desde arriba

// GALAXIA
const particles = 80000;
const geometry = new THREE.BufferGeometry();
const positions = new Float32Array(particles*3);
const colors = new Float32Array(particles*3);

const insideColor = new THREE.Color("#ff66ff");
const outsideColor = new THREE.Color("#2200ff");

for(let i=0;i<particles;i++){
const i3=i*3;
const radius=Math.random()*1000;
const spinAngle=radius*0.35;
const branchAngle=(i%6)/6*Math.PI*2;

positions[i3]=Math.cos(branchAngle+spinAngle)*radius+(Math.random()-0.5)*30;
positions[i3+1]=(Math.random()-0.5)*80;
positions[i3+2]=Math.sin(branchAngle+spinAngle)*radius+(Math.random()-0.5)*30;

const mixedColor=insideColor.clone();
mixedColor.lerp(outsideColor,radius/1000);

colors[i3]=mixedColor.r;
colors[i3+1]=mixedColor.g;
colors[i3+2]=mixedColor.b;
}

geometry.setAttribute('position',new THREE.BufferAttribute(positions,3));
geometry.setAttribute('color',new THREE.BufferAttribute(colors,3));

const material=new THREE.PointsMaterial({
size:2.5,
vertexColors:true,
blending:THREE.AdditiveBlending,
depthWrite:false
});

const galaxy=new THREE.Points(geometry,material);
scene.add(galaxy);


// FRASES ORBITANDO
const textos = [
"Contigo el universo tiene sentido",
"Eres mi estrella favorita",
"Mi infinito eres tú",
"Tu amor ilumina mi galaxia",
"Mi corazón orbita alrededor del tuyo",
"Eres mi milagro cósmico",
"Mi mundo empieza en tus ojos",
"Eres mi constelación perfecta",
"Mi eternidad lleva tu nombre",
"Mi amor no tiene límites"
];

const frases=[];

textos.forEach((t,i)=>{
let div=document.createElement("div");
div.className="frase";
div.innerText=t;
document.body.appendChild(div);

frases.push({
element:div,
angle:Math.random()*Math.PI*2,
radius:1400,
height:(Math.random()-0.5)*600
});
});


// ANIMACIÓN
function animate(){
requestAnimationFrame(animate);

galaxy.rotation.y+=0.0006;

frases.forEach(f=>{
f.angle+=0.0004;

let x=Math.cos(f.angle)*f.radius;
let z=Math.sin(f.angle)*f.radius;
let y=f.height;

let vector=new THREE.Vector3(x,y,z);
vector.project(camera);

let posX=(vector.x*0.5+0.5)*window.innerWidth;
let posY=(-vector.y*0.5+0.5)*window.innerHeight;

f.element.style.transform=`translate(-50%,-50%) translate(${posX}px,${posY}px)`;
});

controls.update();
renderer.render(scene,camera);
}

animate();

window.addEventListener('resize',()=>{
camera.aspect=window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth,window.innerHeight);
});

</script>

</body>
</html>
