<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para el Amor de Mi Vida ðŸ’œ</title>

<style>
body { margin:0; overflow:hidden; background:black; }
canvas { display:block; }

.center-text{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
color:#ff66ff;
font-size:50px;
text-align:center;
text-shadow:0 0 40px #ff00ff, 0 0 80px #aa00ff;
pointer-events:none;
}
</style>
</head>
<body>

<audio id="music" loop>
<source src="thoseeyes.mp3" type="audio/mpeg">
</audio>

<div class="center-text">
Para el Amor de Mi Vida ðŸ’œ
</div>

<script type="module">

import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';
import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/OrbitControls.js';

const scene = new THREE.Scene();
scene.fog = new THREE.FogExp2(0x000010, 0.00035);

const camera = new THREE.PerspectiveCamera(
75,
window.innerWidth/window.innerHeight,
0.1,
10000
);
camera.position.set(0,500,1500);

const renderer = new THREE.WebGLRenderer({ antialias:true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

/////////////////////////////////////////////////////
// ðŸŽ® CONTROLES REALES (ZOOM + ROTACIÃ“N)
/////////////////////////////////////////////////////

const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.dampingFactor = 0.05;
controls.minDistance = 300;
controls.maxDistance = 4000;
controls.enablePan = false;

/////////////////////////////////////////////////////
// ðŸŒŒ GALAXIA ESPIRAL REALISTA
/////////////////////////////////////////////////////

const starCount = 50000;
const branches = 5;
const spin = 0.4;
const randomness = 0.6;

const geometry = new THREE.BufferGeometry();
const positions = new Float32Array(starCount * 3);

for(let i=0;i<starCount;i++){

const i3 = i*3;
const radius = Math.random()*4000;
const branchAngle = (i % branches) / branches * Math.PI * 2;
const spinAngle = radius * spin;

const randomX = (Math.random()-0.5)*randomness*radius*0.3;
const randomY = (Math.random()-0.5)*randomness*300;
const randomZ = (Math.random()-0.5)*randomness*radius*0.3;

positions[i3] =
Math.cos(branchAngle + spinAngle) * radius + randomX;

positions[i3+1] = randomY;

positions[i3+2] =
Math.sin(branchAngle + spinAngle) * radius + randomZ;
}

geometry.setAttribute(
'position',
new THREE.BufferAttribute(positions,3)
);

const material = new THREE.PointsMaterial({
size:2,
color:0xffffff,
transparent:true,
opacity:0.9
});

const galaxy = new THREE.Points(geometry, material);
scene.add(galaxy);

/////////////////////////////////////////////////////
// ðŸ’œ NÃšCLEO BRILLANTE
/////////////////////////////////////////////////////

const coreGeometry = new THREE.SphereGeometry(200, 64, 64);
const coreMaterial = new THREE.MeshBasicMaterial({
color:0xaa00ff
});
const core = new THREE.Mesh(coreGeometry, coreMaterial);
scene.add(core);

/////////////////////////////////////////////////////
// ðŸ”Š MÃšSICA
/////////////////////////////////////////////////////

window.addEventListener("click", ()=>{
document.getElementById("music").play();
},{ once:true });

/////////////////////////////////////////////////////
// ðŸŽ¬ ANIMACIÃ“N
/////////////////////////////////////////////////////

function animate(){
requestAnimationFrame(animate);

galaxy.rotation.y += 0.0005;

core.scale.x = 1 + Math.sin(Date.now()*0.002)*0.3;
core.scale.y = 1 + Math.sin(Date.now()*0.002)*0.3;
core.scale.z = 1 + Math.sin(Date.now()*0.002)*0.3;

controls.update();
renderer.render(scene,camera);
}
animate();

window.addEventListener("resize",()=>{
camera.aspect = window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth,window.innerHeight);
});

</script>

</body>
</html>
